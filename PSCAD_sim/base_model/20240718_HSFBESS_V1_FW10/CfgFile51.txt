#Sunny Central PSCAD configuration file, Plant: DMAT
Version              SCxxxx R10

#Nameplate
#VARtg                              4200                                    # Apparent power rating in kVA
#WRtg                               4200                                    # Active power rating in kW
#VArRtg                             4200                                    # Reactive power rating in kVAr
HzRtg                               50.0                                    # Frequency rating (and Frequency set point HzSpt)

InvCtlMod                           INVCTLMOD_GRIFEED_MPP                   # Inverter control mode / INVCTLMOD_GRIFEED_MPP: Grid tie MPP Tracking mode / INVCTLMOD_GRIFEED_DCLVOLCNST: Grid tie constant DC Link voltag / INVCTLMOD_BAT: Battery inverter
Bsc_InvStrMod                       1
UseSCSOpCmd                         1                                       # Activate external commands (For Battery Inverter only)

VArOpMod                            VAR_MOD_CNST                            # External reactive power setpoint handling / VAR_MOD_NONE: no external reactive power setpoint / VAR_MOD_CNST: external reactive power setpoint / VAR_MOD_PF_CNST: external powerfactor setpoint
Aid_Mod                             SWITCH_STT_DISABLE                      # Active islanding detection / SWITCH_STT_ENABLE: on / SWITCH_STT_DISABLE: off
Pld_Mod                             SWITCH_STT_DISABLE                      # Phase loss (YgD) detection / SWITCH_STT_ENABLE: on / SWITCH_STT_DISABLE: off

WGraMod                             SWITCH_STT_ENABLE                       # Power Set Point Gradients mode / SWITCH_STT_ENABLE: on / SWITCH_STT_DISABLE: off
VArGraMod                           SWITCH_STT_ENABLE                       # Power Set Point Gradients mode / SWITCH_STT_ENABLE: on / SWITCH_STT_DISABLE: off
WGra                                1.0                                   	# Power Set Point Gradients (Range VArGra: [0.01 ...1]; Range WGra: [0.01 ...2])
VArGra                              2.0                                   	# Power Set Point Gradients (Range VArGra: [0.01 ...1]; Range WGra: [0.01 ...2])

WFilMod                             SWITCH_STT_DISABLE                       # Power Set Point Filter mode / SWITCH_STT_ENABLE: on / SWITCH_STT_DISABLE: off
VArFilMod                           SWITCH_STT_DISABLE                       # Power Set Point Filter mode / SWITCH_STT_ENABLE: on / SWITCH_STT_DISABLE: off
WFilTm                              0.01                                     # Power Set Point PT1 filters in sec (Range WFilTm: [0.01 ...2]; Range VArFilTm: [0.01 ...2])
VArFilTm                            0.01                                     # Power Set Point PT1 filters in sec (Range WFilTm: [0.01 ...2]; Range VArFilTm: [0.01 ...2])

VADrtPriMod                         VADRTPRIMOD_VAR                         # Power Priority (Recommendation: VADRTPRIMOD_VAR) / VADRTPRIMOD_W: active power / VADRTPRIMOD_VAR: reactive power
GriMng_InvVArMod                    GRIMNG_INVVARMOD_VARCTLVOL              # Reactive power as a function of voltage / GRIMNG_INVVARMOD_OFF: off / GRIMNG_INVVARMOD_VARCTLVOL: Q/V function
VArCtlVol_VArSptFilTm               0.01

VArCtlVol_HiGra3                    10.0                                     # 2 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_HiGra2                    5.0                                     # 2 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_HiGra1                    2.0                                     # 2 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_LoGra1                    0.0                                     # 2 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_LoGra2                    0.5                                     # 2 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_LoGra3                    2.0                                     # 2 decimal places possible for gradients (Range: [0.0 ...10.0])

VArCtlVol_HiVolRef3                 1.15                                     # 3 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_HiVolRef2                 1.10                                    # 3 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_LoVolRef1HiVolRef1        1.0                                     # 3 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_LoVolRef2                 0.90                                    # 3 decimal places possible for gradients (Range: [0.0 ...10.0])
VArCtlVol_LoVolRef3                 0.0                                     # 3 decimal places possible for gradients (Range: [0.0 ...10.0])

VArCtlVol_VolNomSptMod              VOLNOMSPTMOD_INVMS_VOLPSNOM             # Selector for the voltage setpoint / #VOLNOMSPTMOD_VOLNOMSPT: Set-point / #VOLNOMSPTMOD_INVMS_VOLPSNOM: Filtered measurement value
VArCtlVol_VolFilTm                  0.5
VArCtlVol_VolPsNomHiLim             1.1
VArCtlVol_VolPsNomLoLim             0.9

WCtlHzMod                           SWITCH_STT_DISABLE                      # Active Power as a function of frequency for PV: Mode over frequency / SWITCH_STT_DISABLE: off / SWITCH_STT_ENABLE: on
WCtlHzBatMod                        SWITCH_STT_DISABLE                      # Active Power as a function of frequency for BESS: Mode over frequency / SWITCH_STT_DISABLE: off / SWITCH_STT_ENABLE: on
WCtlHzLoHiMod                       SWITCH_STT_DISABLE

GriMng_HzFilTm                      0.1                                     # Time constant frequency filter, grid managment in s
VCtl_CorrTm                         0.0                                     # CorrTm: correction of the internal delay of the measurement algorithms - Set to 0 if you want the inverter to stay connected and trip after the time (e.g. BDEW) - set to negative values if you want the the inverter to trip before the given time (e.g. UL1741)
HzCtl_CorrTm                        0.0                                     # CorrTm: correction of the internal delay of the measurement algorithms - Set to 0 if you want the inverter to stay connected and trip after the time (e.g. BDEW) - set to negative values if you want the the inverter to trip before the given time (e.g. UL1741)

VCtl_OpMaxNom                       1.10                                    # Upper and lower voltage for connection
VCtl_OpMinNom                       0.90                                    # Upper and lower voltage for connection
VCtl_OpMaxNomRecon                  1.10                                    # Upper and lower voltage for connection
VCtl_OpMinNomRecon                  0.90                                    # Upper and lower voltage for connection

HzCtl_OpMaxNom                      50.5                                    # Upper and lower frequency limit for connection
HzCtl_OpMinNom                      49.3                                    # Upper and lower frequency limit for connection
HzCtl_OpMaxNomRecon                 50.5                                    # Upper and lower frequency limit for connection
HzCtl_OpMinNomRecon                 49.3                                    # Upper and lower frequency limit for connection

VCtl_PkLim                          1.5                                     # Instantaneous voltage protection in p.u. - in real firmware this can be set to maximum 1.5pu. 
VCtl_PkLimTm                        18                                     # instantaneous voltage protection time in 6kHz steps: e.g. 6 = 1ms

VCtl_Hi5Lim                         1.3                                     # Over voltage trip limits  VCtl_Hi[1..5]Lim in p.u. (Range: [1.0 ...2.0]). 2 decimal places only - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi4Lim                         1.3                                     # Over voltage trip limits  VCtl_Hi[1..5]Lim in p.u. (Range: [1.0 ...2.0]). 2 decimal places only - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi3Lim                         1.3                                     # Over voltage trip limits  VCtl_Hi[1..5]Lim in p.u. (Range: [1.0 ...2.0]). 2 decimal places only - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi2Lim                         1.25                                    # Over voltage trip limits  VCtl_Hi[1..5]Lim in p.u. (Range: [1.0 ...2.0]). 2 decimal places only - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi1Lim                         1.2                                     # Over voltage trip limits  VCtl_Hi[1..5]Lim in p.u. (Range: [1.0 ...2.0]). 2 decimal places only - !!!check technical information regarding voltage limits of specific inverter models!!!

VCtl_Hi5LimTm                       300                                     # Over voltage trip limit times VCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi4LimTm                       300                                    # Over voltage trip limit times VCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi3LimTm                       300                                    # Over voltage trip limit times VCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi2LimTm                       2500                                   # Over voltage trip limit times VCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Hi1LimTm                       25000                                 # Over voltage trip limit times VCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!

VCtl_Lo1Lim                         0.8                                     # Under voltage trip limits  VCtl_Lo[1..5]Lim in p.u. (Range: [0.0 ...1.0]). 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo2Lim                         0.77                                     # Under voltage trip limits  VCtl_Lo[1..5]Lim in p.u. (Range: [0.0 ...1.0]). 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo3Lim                         0.4                                     # Under voltage trip limits  VCtl_Lo[1..5]Lim in p.u. (Range: [0.0 ...1.0]). 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo4Lim                         0.4                                     # Under voltage trip limits  VCtl_Lo[1..5]Lim in p.u. (Range: [0.0 ...1.0]). 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo5Lim                         0.4                                     # Under voltage trip limits  VCtl_Lo[1..5]Lim in p.u. (Range: [0.0 ...1.0]). 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!

VCtl_Lo1LimTm                       11000                                   # Under voltage trip limit times VCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo2LimTm                       5000                                    # Under voltage trip limit times VCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo3LimTm                       2000                                    # Under voltage trip limit times VCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo4LimTm                       2000                                    # Under voltage trip limit times VCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!
VCtl_Lo5LimTm                       2000                                    # Under voltage trip limit times VCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]). - !!!check technical information regarding voltage limits of specific inverter models!!!

HzCtl_Hi6Lim                        55.0                                    # Over frequency trip limits  HzCtl_Hi[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi5Lim                        52.1                                    # Over frequency trip limits  HzCtl_Hi[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi4Lim                        52.1                                    # Over frequency trip limits  HzCtl_Hi[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi3Lim                        52.1                                    # Over frequency trip limits  HzCtl_Hi[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi2Lim                        52.1                                    # Over frequency trip limits  HzCtl_Hi[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi1Lim                        52.1                                    # Over frequency trip limits  HzCtl_Hi[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!

HzCtl_Hi6LimTm                      100                                   # over frequency trip limit times HzCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi5LimTm                      60000                                   # over frequency trip limit times HzCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi4LimTm                      60000                                   # over frequency trip limit times HzCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi3LimTm                      60000                                   # over frequency trip limit times HzCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi2LimTm                      60000                                   # over frequency trip limit times HzCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Hi1LimTm                      60000                                   # over frequency trip limit times HzCtl_Hi[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!

HzCtl_Lo1Lim                        47.0                                    # Under frequency trip limits  HzCtl_Lo[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo2Lim                        47.0                                    # Under frequency trip limits  HzCtl_Lo[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo3Lim                        47.0                                    # Under frequency trip limits  HzCtl_Lo[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo4Lim                        47.0                                    # Under frequency trip limits  HzCtl_Lo[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo5Lim                        47.0                                    # Under frequency trip limits  HzCtl_Lo[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo6Lim                        45.0                                    # Under frequency trip limits  HzCtl_Lo[1..6]Lim in Hz. 2 decimal places only. - !!!check technical information regarding voltage limits of specific inverter models!!!

HzCtl_Lo1LimTm                      60000                                    # Under frequency trip limit times HzCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo2LimTm                      60000                                   # Under frequency trip limit times HzCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo3LimTm                      60000                                   # Under frequency trip limit times HzCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo4LimTm                      60000                                   # Under frequency trip limit times HzCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo5LimTm                      60000                                   # Under frequency trip limit times HzCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!
HzCtl_Lo6LimTm                      100                                   # Under frequency trip limit times HzCtl_Lo[1..5]LimTm in ms (Range: [100 ...1000000]) - !!!check technical information regarding voltage limits of specific inverter models!!!

Frt_Mod                             SPT_FRT_MOD_FULL                        # FRT mode / SPT_FRT_MOD_DISABLE: off / SPT_FRT_MOD_FULL: full / SPT_FRT_MOD_PARTIAL: partial / SPT_FRT_MOD_AMPDCNST: AMPDCNST / SPT_FRT_MOD_LOAMP: LOAMP
Frt_VolFilMod                       FRTVOLFILMOD_VOLRTG                     # FRT voltage refrence: Frt_VolDFilTm filter time constant mode or voltage rating /  FRTVOLFILMOD_VOLRTG: nominal voltage / #FRTVOLFILMOD_PT1: Voltage filtered 
FrtStep_Ena                         SWITCH_STT_DISABLE                      # FRT step detection mode / SWITCH_STT_DISABLE: off / SWITCH_STT_ENABLE: on
FrtPro_VolGra                       10.0
Frt_WaitTmHi                        0.1                                    # FRT Off time delay - 0.02 is minimum, 2 decimal places only
Frt_WaitTmLo                        0.02                                    # FRT Off time delay - 0.02 is minimum, 2 decimal places only
Frt_HystEna                         SWITCH_STT_DISABLE                      # FRT deadband hysteresis -Only 2 decimal places supported / SWITCH_STT_DISABLE: off / SWITCH_STT_ENABLE: on
Frt_HiDb                            1.24                                    # FRT deadband high limit -Only 2 decimal places supported
Frt_HiDbHyst                        1.22                                    # FRT deadband high limit hysteresis - Only 2 decimal places supported
Frt_LoDbHyst                        0.87                                    # FRT deadband high limit hysteresis - Only 2 decimal places supported
Frt_LoDb                            0.85                                    # FRT deadband high limit -Only 2 decimal places supported

Frt_HiGra3                          6.0                                     # the "k"- factors (Range: 0.1...2; Range Low SCR: [0.1 ...1.5]) - 2 decimal places only are supported - !!!k factors can be higher than 2 if the SCR is high and PSCAD studies show stable response!!!
Frt_HiGra2                          6.0                                     # the "k"- factors (Range: 0.1...2; Range Low SCR: [0.1 ...1.5]) - 2 decimal places only are supported - !!!k factors can be higher than 2 if the SCR is high and PSCAD studies show stable response!!!
Frt_HiGra1                          0.0                                     # the "k"- factors (Range: 0.1...2; Range Low SCR: [0.1 ...1.5]) - 2 decimal places only are supported - !!!k factors can be higher than 2 if the SCR is high and PSCAD studies show stable response!!!
Frt_LoGra1                          0.0                                     # the "k"- factors (Range: 0.1...2; Range Low SCR: [0.1 ...1.5]) - 2 decimal places only are supported - !!!k factors can be higher than 2 if the SCR is high and PSCAD studies show stable response!!!
Frt_LoGra2                          6.0                                     # the "k"- factors (Range: 0.1...2; Range Low SCR: [0.1 ...1.5]) - 2 decimal places only are supported - !!!k factors can be higher than 2 if the SCR is high and PSCAD studies show stable response!!!
Frt_LoGra3                          6.0                                     # the "k"- factors (Range: 0.1...2; Range Low SCR: [0.1 ...1.5]) - 2 decimal places only are supported - !!!k factors can be higher than 2 if the SCR is high and PSCAD studies show stable response!!!

Frt_HiVolRef3                       2.0                                     # FRT curve reference voltages - only 2 decimal places supported
Frt_HiVolRef2                       1.22                                    # FRT curve reference voltages - only 2 decimal places supported
Frt_HiVolRef1                       1.0                                     # FRT curve reference voltages - only 2 decimal places supported
Frt_LoVolRef1                       1.0                                     # FRT curve reference voltages - only 2 decimal places supported
Frt_LoVolRef2                       0.87                                    # FRT curve reference voltages - only 2 decimal places supported
Frt_LoVolRef3                       0.0                                     # FRT curve reference voltages - only 2 decimal places supported

Frt_AmpDGra                         10.0                                    # Active current gradient after voltage recovery  (Range: [0.1 ...15])
Frt_AmpQGra                         1.4142                                  # Maximum reactive current increase after FRT

Frt_AmpQFilTm                       1.0                                     # Filter time constant for reactive current and reference voltage averaging - !!!# Pls set to 1 sec for simulation of FRT!!!
Frt_VolDFilTm                       20                                     # Filter time constant for reactive current and reference voltage averaging - !!!# Pls set to 1 sec for simulation of FRT!!!

Frt_AmpDGraFlt                      2.0
Frt_AmpDLim                         2.0                                     # Maximum active/reactive currents during FRT, value of 2.0 deactivates the limit
Frt_AmpDLimNeg                      0.05                                    # Maximum active/reactive currents during FRT, value of 2.0 deactivates the limit
Frt_AmpQLim                         2.0                                     # Maximum active/reactive currents during FRT, value of 2.0 deactivates the limit

Pll_Inv_HzGraLim                    300                                     # PLL parameters - DO NOT change without permission from SMA
Pll_GriMon_HzGraLim                 300                                     # PLL parameters - DO NOT change without permission from SMA
Pll_Inv_DmpRto                      2.0                                     # PLL parameters - DO NOT change without permission from SMA
Pll_GriMon_DmpRto                   2.0                                     # PLL parameters - DO NOT change without permission from SMA
Pll_Inv_SetTm                       0.045                                   # PLL parameters - DO NOT change without permission from SMA
Pll_GriMon_SetTm                    0.045                                   # PLL parameters - DO NOT change without permission from SMA
Pll_Inv_On2Srch_NomSum              300                                     # Pll model backwards compatibility of non SC/SCS UP inverters
Pll_GriMon_On2Srch_NomSum           300                                     # PLL parameters - DO NOT change without permission from

Pll_Inv_HzFilOff2On_Vol             0.3                                     # PLL parameters - DO NOT change without permission from SMA
Pll_GriMon_HzFilOff2On_Vol          0.3                                     # PLL parameters - DO NOT change without permission from SMA
Pll_Inv_HzFilWt2On_Vol              0.65                                    # PLL parameters - DO NOT change without permission from SMA
Pll_GriMon_HzFilWt2On_Vol           0.6                                     # PLL parameters - DO NOT change without permission from SMA
Pll_Inv_HzFilOn2Wt_Vol              0.75                                    # PLL parameters - DO NOT change without permission from SMA
Pll_GriMon_HzFilOn2Wt_Vol           0.7                                     # PLL parameters - DO NOT change without permission from SMA
Pll_Inv_HzFilWt2Off_HysTm           50                                      # PLL parameters - DO NOT change without permission from SMA
Pll_GriMon_HzFilWt2Off_HysTm        50                                      # PLL parameters - DO NOT change without permission from SMA

AcCtl_AmpAB0FilTm                   0.0                                     # ab control for DC/AC component damping
AcCtl_AmpAB0kp                      0.01                                    # ab control for DC/AC component damping
DcCtl_DclVolFFwFilEna               SWITCH_STT_ENABLE                       # dc control - DO NOT change without permission from SMA
DcCtl_DclVolActDmp                  0.0                                     # dc control - DO NOT change without permission from SMA


#End of SC configuration file